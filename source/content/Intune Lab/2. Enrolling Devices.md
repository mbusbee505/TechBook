# Getting the Hardware Hash

In a real world scenario hardware hashes for each device would be provided to the organization by the device manufacturer, but since I can't do that I had to fake it a bit. 

I created a new Windows 11 VM and when it got to the select region screen I pressed Shift+F10 to open command prompt then ran the command `powershell` to get to open a new PowerShell session. 

The commands below do the following things:
- Installs Microsoft Graph
- Connects to Microsoft Graph using the TenantID provided
- Sets Execution Policy to Bypass
- Installs Windows Autopilot Info module
- Generates the device hardware hash and uploads it to the tenant

```
Install-Module Microsoft.Graph -Scope CurrentUser
Connect-MgGraph -Scopes "Group.ReadWrite.All" -TenantID "<Your Tenant ID>"
Set-ExecutionPolicy -Scope Process Bypass -Force
Install-Script -Name Get-WindowsAutopilotInfo -Force
Get-WindowsAutopilotInfo -Online
```

![[2. Enrolling Devices-1.png]]

To confirm this was successful you can go to Intune > Devices > Enrollment > Windows Autopilot > Devices 

![[2. Enrolling Devices-2.png]]

Here I can see my VM running on VMware "hardware". With this in place I'm ready to move on. 

